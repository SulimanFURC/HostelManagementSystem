<div class="d-flex align-items-center justify-content-center">
    <div class="invoice-container">
    <header class="invoice-header">
        <div class="header-left">
            <div class="logo">{{invoiceData.hostelInfo.name}}</div>
            <p>{{invoiceData.hostelInfo.address}}</p>
        </div>
        <div class="header-right">
            <h1>INVOICE</h1>
            <p><strong>Invoice #:</strong> {{invoiceData.invoiceNumber}}</p>
            <p><strong>Date:</strong> {{invoiceData.date}}</p>
            <p><strong>Due Date:</strong> {{invoiceData.dueDate}}</p>
        </div>
    </header>
    <main>
        <section class="billing-details">
            <h3>Bill To:</h3>
            <p><span>Student Name:</span> {{invoiceData.student.name}}</p>
            <p><span>Student ID:</span> {{invoiceData.student.id}}</p>
            <p><span>Room No:</span> {{invoiceData.student.roomNo}}</p>
        </section>

        <section class="invoice-summary">
            <div class="section-title">Rent Summary for {{invoiceData.month}} {{invoiceData.year}}</div>
            <table>
                <thead>
                    <tr>
                        <th>Description</th>
                        <th class="text-right">Amount (PKR)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Basic Monthly Rent</td>
                        <td class="text-right">{{invoiceData.basicRent}}</td>
                    </tr>
                    <tr>
                        <td>Previous Dues (May 2025)</td>
                        <td class="text-right">{{invoiceData.previousMonthDues}}</td>
                    </tr>
                </tbody>
            </table>
            <div class="total-section">
                <table class="total-table">
                    <tr>
                        <td>Subtotal</td>
                        <td class="text-right">{{invoiceData.totalAmountPayable}}</td>
                    </tr>
                    <tr>
                        <td>Dues</td>
                        <td class="text-right">{{invoiceData.totalDues}}</td>
                    </tr>
                    <tr class="grand-total">
                        <td>Total Amount Due</td>
                        <td class="text-right">{{invoiceData.previousMonthDues}}</td>
                    </tr>
                    <tr>
                        <td>Amount Paid by Student</td>
                        <td class="text-right">{{invoiceData.amountPaid}}</td>
                    </tr>
                    <tr class="grand-total">
                        <td>Balance Due</td>
                        <td class="text-right">{{invoiceData.balanceDue}}</td>
                    </tr>
                </table>
            </div>
        </section>

        <section class="payment-history">
            <div class="section-title">Previous Payment History</div>
            <table class="history-table" *ngIf="invoiceData.paymentHistory && invoiceData.paymentHistory.length > 0">
                <thead>
                    <tr>
                        <th>Year</th>
                        <th>Month</th>
                        <th>Amount Paid (PKR)</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let payment of invoiceData.paymentHistory">
                        <td>{{payment.year}}</td>
                        <td>{{payment.month}}</td>
                        <td>{{payment.amountPaid}}</td>
                        <td class="status-{{payment.status}}">{{payment.status | titlecase}}</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>
    <footer class="invoice-footer">
        <p><strong>Notes:</strong> Please pay any outstanding dues by the due date to avoid late fees.</p>
        <p>Payment can be made via Bank Transfer, JazzCash, or at the front desk.</p>
        <p>Thank you for your timely payment!</p>
        <p><strong>Khan Hostel</strong> | Ph: +92 300 5532270 | Email: {{contactEmail}}</p>
    </footer>
</div>
</div>